---
title: "EDA"
output: html_document
---
# setting 

```{r}
library(tidyverse)
library(janitor)
```

```{r}
train <- read_csv("~/Desktop/Molecular_kaggle/input/raw/train.csv")
test <- read_csv("~/Desktop/Molecular_kaggle/input/raw/test.csv")
structures <- read_csv("~/Desktop/Molecular_kaggle/input/raw/structures.csv")
magnetic_shielding <- read_csv("~/Desktop/Molecular_kaggle/input/raw/magnetic_shielding_tensors.csv")
```

# sample submit

- mean value

```{r}
# calculate mean value
tmp <- train %>%
  group_by(type) %>% 
  summarise(scalar_coupling_constant = mean(scalar_coupling_constant)) %>% 
  ungroup()

# make submit file
test %>% 
  left_join(tmp, by = "type") %>% 
  dplyr::select(id,scalar_coupling_constant) %>% 
  write_csv("~/Desktop/Molecular_kaggle/output/submit/example_mean_base.csv")
```

# train.csv

- 各typeごとで, 目的変数の分布は異なる.

```{r}
# type ごとの頻度分布
train %>% 
  # head(1000) %>% 
  ggplot(aes(x=scalar_coupling_constant)) +
  geom_histogram(bins = 30) +
  facet_wrap(~type) +
  theme_minimal()

train %>% 
  filter(scalar_coupling_constant < 0) %>% 
  tabyl(type)
```


# structures.csv 

- 結合の3次元配置座標

```{r}
train %>% head
structures %>% head
```

# magnetic_shielding_tensors.csv

```{r}
magnetic_shielding %>% 
  head(10000) %>% View
  ggplot(aes(x=XY,y=YX)) +
  geom_point()
```

